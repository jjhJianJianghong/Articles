## 三、广域网通信

![](%E4%B8%89%E5%B9%BF%E5%9F%9F%E7%BD%91%E9%80%9A%E4%BF%A14g%E6%98%AF%E5%B9%BF%E5%9F%9F%E7%BD%91%E7%9A%84%E6%8A%80%E6%9C%AF/original.png)

粉丝可见 [Jianghong Jian](https://blog.csdn.net/2501_93097309 "Jianghong Jian") ![](%E4%B8%89%E5%B9%BF%E5%9F%9F%E7%BD%91%E9%80%9A%E4%BF%A14g%E6%98%AF%E5%B9%BF%E5%9F%9F%E7%BD%91%E7%9A%84%E6%8A%80%E6%9C%AF/newUpTime2.png) 已于 2025-09-06 16:36:15 修改

于 2025-08-31 10:51:50 首次发布

版权声明：本文为博主原创文章，遵循 [CC 4.0 BY-SA](http://creativecommons.org/licenses/by-sa/4.0/) 版权协议，转载请附上原文出处链接和本声明。

## 1.广域网物理层特性

-   ### 公共交换电话网PSTN
    

基传统电路交换技术，使用铜线传输[模拟信号](https://so.csdn.net/so/search?q=%E6%A8%A1%E6%8B%9F%E4%BF%A1%E5%8F%B7&spm=1001.2101.3001.7020)。主要用于语音通信，带宽有限，数据传输速率较低通常低于56Kbps，依赖物理线路（如电话线），部署和维护成本高。

### 3G和4G网的区别

1.  3G：采用数字信号传输，支持语音和数据业务。理论下载速率可达2mbps，支持移动互联网应用（如视频通话、网页浏览）。基于蜂窝网络架构，覆盖范围广但延迟高。
2.  4G：采用OFDM和MIMO技术，支持高速数据传输。理论下载速率可达100Mbps，支持实时应用（如高清视频流、在线游戏）。基于全IP技术，频谱效率更高。

-   ### 本地回路
    

1.  指从用户端到电信运营商交换局（CO）的物理连接部分，通常由双绞铜线或光纤组成。
    
2.  在PSTN中用于传输模拟信号，在DSL技术中通过频分复用支持宽带数据。
    

-   ### 机械特性
    

1.  **连接器类型**：如RJ11（电话线）、RJ45（以太网）、光纤LC/SC接头。
2.  **线缆规格**：包括双绞线（Cat5/Cat6）、同轴电缆或光纤的直径、弯曲半径等。
3.  **物理耐用性**：涉及接口的防尘、防水等级（如IP67）。

-   ### 电气特性
    

RS-232-C采用V28标准，电路速率20 kb/s，传输距离最长15米，局域网。

产生3～15V的信号。

3～15V表示1，-3～15V表示0。

使用9针，25钟串行接口。

ps：网络中1k＝1000，存储中1K＝1024

## 2.流量与差错控制

发生在TCP传输层

### 流量控制

协调发送和接收站工作步调，避免发送速度过快，接收站处理不过来。如**X.25、TCP**

### 差错检测

检测和纠正传输错误的机制。检错码：CRC，纠错：海明码。

### 流量控制-停等协议

ACK表示有64个小包

### 流控机制-滑动窗口协议

允许连接发送多个帧而无需等待应答。

### 差错控制

应对差错方法：超时重传。

ARQ自动重传协议：

1.  停等ARQ协议
2.  选择重发ARQ协议
3.  后退N帧ARQ协议

#### 停等ARQ协议

停等流控技术和自动请求重发技术的结合。

发送站发出一帧后必须等待应答信号，收到肯定应答信号ACK后继续发送下一帧；若收到否定应答信号NAK后重发帧；若在一定的时间内没有收到应答信号也必须重发。

#### 选择ARQ协议

重发特定的某一帧 ![](%E4%B8%89%E5%B9%BF%E5%9F%9F%E7%BD%91%E9%80%9A%E4%BF%A14g%E6%98%AF%E5%B9%BF%E5%9F%9F%E7%BD%91%E7%9A%84%E6%8A%80%E6%9C%AF/eq.idunno)，其中![](%E4%B8%89%E5%B9%BF%E5%9F%9F%E7%BD%91%E9%80%9A%E4%BF%A14g%E6%98%AF%E5%B9%BF%E5%9F%9F%E7%BD%91%E7%9A%84%E6%8A%80%E6%9C%AF/eq.1.idunno)表示发送的，![](%E4%B8%89%E5%B9%BF%E5%9F%9F%E7%BD%91%E9%80%9A%E4%BF%A14g%E6%98%AF%E5%B9%BF%E5%9F%9F%E7%BD%91%E7%9A%84%E6%8A%80%E6%9C%AF/eq.2.idunno)表示接收的。 **_选上退下_**

#### 后退N帧ARQ协议

重传此帧和后续的N帧 ![](%E4%B8%89%E5%B9%BF%E5%9F%9F%E7%BD%91%E9%80%9A%E4%BF%A14g%E6%98%AF%E5%B9%BF%E5%9F%9F%E7%BD%91%E7%9A%84%E6%8A%80%E6%9C%AF/eq.idunno)，其中![](%E4%B8%89%E5%B9%BF%E5%9F%9F%E7%BD%91%E9%80%9A%E4%BF%A14g%E6%98%AF%E5%B9%BF%E5%9F%9F%E7%BD%91%E7%9A%84%E6%8A%80%E6%9C%AF/eq.3.idunno)表示发送的，![](%E4%B8%89%E5%B9%BF%E5%9F%9F%E7%BD%91%E9%80%9A%E4%BF%A14g%E6%98%AF%E5%B9%BF%E5%9F%9F%E7%BD%91%E7%9A%84%E6%8A%80%E6%9C%AF/eq.1.idunno)表示接收的。

上述中K均表示帧编号位数

## 3.帧中继与HDLC

-   #### 帧中断FR（Frame Rlay）
    

1.  帧中断在**_第二_****_层_**建立虚电路，提供**_虚电路服务_**，本地表示DLCI。 （_**链路层的协议：FR、X.25、以太网、HDLC、PPP。）**_
    
    |帧头（8位）|地址（8位，可扩展）|控制（8位，可扩展）|数据（可变长）|校验（16或32位）|帧尾（8位）|
    |---|---|---|---|---|---|
    |F|A|C|INFO|FCS|F|
    

1.  基于分组交换的透明传输，可提供**_面向连接_**的服务。
2.  **_只做检错和拥塞控制，没有流控重传机制，开销很小。 2M_**
3.  即可以按需提供带宽，也可以应对突发的数据传输。CIR承诺速率 EIR：扩展速率。
4.  可以达到很高的速率，_**2～45Mbps**_

注意：

1.  不适合对延迟敏感的应用（语音、视频）。
2.  数据的丢失依赖于运营商对虚电路的配置。
3.  不保障可靠的提交。

-   #### ISDN和ATM
    

1.  定义：ISDN综合数字业务网，目的是以数字系统代替模拟电话系统，把音频、视频、数据业务放在一个网上统一传输。
2.  分类：分为窄带ISDN和宽带ISDN，宽带ISDN提供两种用户接口。基本输速率BRI＝2B+D＝144Kbps小？？，基群速率PRI＝30B+D＝2.048M 2048Kb/s 大
3.  宽带ISDN，即ATM：ATM是**_信元交换_**，信元为_**53字节**_固定长度。ATM依然是以虚链路提供_**面向连接**_的服务。ATM典型速率**_150M_**。

-   #### HDLC（高级数据链路控制）
    

HDLC是一种面向位（比特）的同步链路控制协议。

通常使用CRC-16，CRC-32校验，帧边界“01111110”（0六个一0）

图片。

-   #### HDLC帧格式及控制字段
    

1.  信息帧（I帧）：第一位为0 用于承载数据和控制。N(S)表示发送帧序号，N(R)表示下一个预期要接收帧的序号，N(R)＝5表示下一帧要接收5号帧。N(S)和N(R)均为3位二进制编码，可取值0～7。
2.  监控帧（S帧）：前两位为10，监控帧用于差错控制和流量控制。S帧控制字段的第三、第四位为S帧类型。
3.  无编号帧（U帧）：控制字段中不包含编号N(S)和N(R)，U帧用于提供对链路的建立，拆除以及多种控制功能，但是当要求提供不可靠的无连接服务时，它有时也可以承载数据。

|记忆符|名称|S字段|功能|
|---|---|---|---|
|**RR**|接收准备好|00|确认，且准备接受下一帧，已收妥N(R)以前的各帧|
|**RNR**|接收未准备好|10|确认，暂停接受下一帧，已收妥N(R)以前的各帧|
|**REJ**|拒绝接收|01|否认，否认N(R)起的各帧，但N(R）以前的帧已接收|
|**SREJ**|选择拒绝接收|11|否认，只否认序号位N(R)的帧|
